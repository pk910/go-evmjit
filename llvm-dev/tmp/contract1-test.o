; ModuleID = 'contract1-test.ll'
source_filename = "contract1-test.ll"
target datalayout = "e-m:e-p270:32:32-p271:32:32-p272:64:64-i64:64-f80:128-n8:16:32:64-S128"
target triple = "x86_64-pc-linux-gnu"

%struct.evm_stack = type { i8*, i64 }

@const_zero32 = local_unnamed_addr constant [32 x i8] zeroinitializer
@const_data1 = local_unnamed_addr constant [32 x i8] c"\01\01\01\01\01\01\01\01\01\01\01\01\01\01\01\01\01\01\01\01\01\01\01\01\01\01\01\01\01\01\01\01"
@const_data2 = local_unnamed_addr constant [1 x i8] c"\02"
@const_data3 = local_unnamed_addr constant [8 x i8] c"\11\11\11\11\11\11\11\11"

; Function Attrs: mustprogress nofree nosync nounwind willreturn
define i32 @test(%struct.evm_stack* nocapture noundef %stack) local_unnamed_addr #0 {
entry:
  %heap_stack_ptr = getelementptr %struct.evm_stack, %struct.evm_stack* %stack, i64 0, i32 0
  %heap_stack_addr = load i8*, i8** %heap_stack_ptr, align 8
  %heap_stack_position_ptr = getelementptr %struct.evm_stack, %struct.evm_stack* %stack, i64 0, i32 1
  %out_1 = load i64, i64* %heap_stack_position_ptr, align 8
  %out_2 = getelementptr inbounds i8, i8* %heap_stack_addr, i64 %out_1
  %out_l2_dst_ptr = getelementptr i8, i8* %out_2, i64 64
  %out_l2_dst_ptr_lo = bitcast i8* %out_l2_dst_ptr to i128*
  %out_l2_dst_ptr_hi = getelementptr i8, i8* %out_l2_dst_ptr, i64 16
  %0 = bitcast i8* %out_l2_dst_ptr_hi to i128*
  store i128 0, i128* %out_l2_dst_ptr_lo, align 4
  store i128 22685491128062564229661857557203910656, i128* %0, align 4
  %out_l3_dst_ptr = getelementptr i8, i8* %out_2, i64 96
  %out_6 = add i64 %out_1, 128
  call void @llvm.memset.p0i8.i64(i8* noundef nonnull align 4 dereferenceable(32) %out_l3_dst_ptr, i8 0, i64 32, i1 false)
  store i64 %out_6, i64* %heap_stack_position_ptr, align 8
  ret i32 0
}

; Function Attrs: argmemonly nofree nounwind willreturn writeonly
declare void @llvm.memset.p0i8.i64(i8* nocapture writeonly, i8, i64, i1 immarg) #1

attributes #0 = { mustprogress nofree nosync nounwind willreturn }
attributes #1 = { argmemonly nofree nounwind willreturn writeonly }
